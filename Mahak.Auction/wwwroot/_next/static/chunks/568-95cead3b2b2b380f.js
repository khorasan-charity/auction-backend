"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{1793:function(t,i,s){s.d(i,{R:function(){return f},m:function(){return p}});var e,a,n,o,r=s(78239),l=s(34781),u=s(84498),h=s(13229),c=s(87271),d=s(45139),v=s(2041),_=s(90326),p=(e=new WeakMap,a=new WeakMap,n=new WeakMap,o=new WeakSet,class extends v.F{setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){(0,r._)(this,e).includes(t)||((0,r._)(this,e).push(t),this.clearGcTimeout(),(0,r._)(this,a).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){(0,u._)(this,e,(0,r._)(this,e).filter(i=>i!==t)),this.scheduleGc(),(0,r._)(this,a).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){(0,r._)(this,e).length||("pending"===this.state.status?this.scheduleGc():(0,r._)(this,a).remove(this))}continue(){var t,i;return null!==(i=null===(t=(0,r._)(this,n))||void 0===t?void 0:t.continue())&&void 0!==i?i:this.execute(this.state.variables)}async execute(t){var i,s,e,l,c,d,v,p,f,m,w,y,g,x,C,M,k,S,O,R,E;(0,u._)(this,n,(0,_.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(Error("No mutationFn found")),onFail:(t,i)=>{(0,h._)(this,o,b).call(this,{type:"failed",failureCount:t,error:i})},onPause:()=>{(0,h._)(this,o,b).call(this,{type:"pause"})},onContinue:()=>{(0,h._)(this,o,b).call(this,{type:"continue"})},retry:null!==(i=this.options.retry)&&void 0!==i?i:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>(0,r._)(this,a).canRun(this)}));let P="pending"===this.state.status,W=!(0,r._)(this,n).canStart();try{if(!P){(0,h._)(this,o,b).call(this,{type:"pending",variables:t,isPaused:W}),await (null===(m=(w=(0,r._)(this,a).config).onMutate)||void 0===m?void 0:m.call(w,t,this));let i=await (null===(y=(g=this.options).onMutate)||void 0===y?void 0:y.call(g,t));i!==this.state.context&&(0,h._)(this,o,b).call(this,{type:"pending",context:i,variables:t,isPaused:W})}let i=await (0,r._)(this,n).start();return await (null===(s=(e=(0,r._)(this,a).config).onSuccess)||void 0===s?void 0:s.call(e,i,t,this.state.context,this)),await (null===(l=(c=this.options).onSuccess)||void 0===l?void 0:l.call(c,i,t,this.state.context)),await (null===(d=(v=(0,r._)(this,a).config).onSettled)||void 0===d?void 0:d.call(v,i,null,this.state.variables,this.state.context,this)),await (null===(p=(f=this.options).onSettled)||void 0===p?void 0:p.call(f,i,null,t,this.state.context)),(0,h._)(this,o,b).call(this,{type:"success",data:i}),i}catch(i){try{throw await (null===(x=(C=(0,r._)(this,a).config).onError)||void 0===x?void 0:x.call(C,i,t,this.state.context,this)),await (null===(M=(k=this.options).onError)||void 0===M?void 0:M.call(k,i,t,this.state.context)),await (null===(S=(O=(0,r._)(this,a).config).onSettled)||void 0===S?void 0:S.call(O,void 0,i,this.state.variables,this.state.context,this)),await (null===(R=(E=this.options).onSettled)||void 0===R?void 0:R.call(E,void 0,i,t,this.state.context)),i}finally{(0,h._)(this,o,b).call(this,{type:"error",error:i})}}finally{(0,r._)(this,a).runNext(this)}}constructor(t){super(),(0,c._)(this,o),(0,l._)(this,e,{writable:!0,value:void 0}),(0,l._)(this,a,{writable:!0,value:void 0}),(0,l._)(this,n,{writable:!0,value:void 0}),this.mutationId=t.mutationId,(0,u._)(this,a,t.mutationCache),(0,u._)(this,e,[]),this.state=t.state||f(),this.setOptions(t.options),this.scheduleGc()}});function f(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}function b(t){this.state=(i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),d.V.batch(()=>{(0,r._)(this,e).forEach(i=>{i.onMutationUpdate(t)}),(0,r._)(this,a).notify({mutation:this,type:"updated",action:t})})}},20568:function(t,i,s){s.d(i,{D:function(){return M}});var e,a,n,o,r,l,u=s(64090),h=s(78239),c=s(34781),d=s(84498),v=s(13229),_=s(87271),p=s(1793),f=s(45139),b=s(44614),m=s(46063),w=(e=new WeakMap,a=new WeakMap,n=new WeakMap,o=new WeakMap,r=new WeakSet,l=new WeakSet,class extends b.l{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;let s=this.options;this.options=(0,h._)(this,e).defaultMutationOptions(t),(0,m.VS)(this.options,s)||(0,h._)(this,e).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,h._)(this,n),observer:this}),(null==s?void 0:s.mutationKey)&&this.options.mutationKey&&(0,m.Ym)(s.mutationKey)!==(0,m.Ym)(this.options.mutationKey)?this.reset():(null===(i=(0,h._)(this,n))||void 0===i?void 0:i.state.status)==="pending"&&(0,h._)(this,n).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;null===(t=(0,h._)(this,n))||void 0===t||t.removeObserver(this)}}onMutationUpdate(t){(0,v._)(this,r,y).call(this),(0,v._)(this,l,g).call(this,t)}getCurrentResult(){return(0,h._)(this,a)}reset(){var t;null===(t=(0,h._)(this,n))||void 0===t||t.removeObserver(this),(0,d._)(this,n,void 0),(0,v._)(this,r,y).call(this),(0,v._)(this,l,g).call(this)}mutate(t,i){var s;return(0,d._)(this,o,i),null===(s=(0,h._)(this,n))||void 0===s||s.removeObserver(this),(0,d._)(this,n,(0,h._)(this,e).getMutationCache().build((0,h._)(this,e),this.options)),(0,h._)(this,n).addObserver(this),(0,h._)(this,n).execute(t)}constructor(t,i){super(),(0,_._)(this,r),(0,_._)(this,l),(0,c._)(this,e,{writable:!0,value:void 0}),(0,c._)(this,a,{writable:!0,value:void 0}),(0,c._)(this,n,{writable:!0,value:void 0}),(0,c._)(this,o,{writable:!0,value:void 0}),(0,d._)(this,a,void 0),(0,d._)(this,e,t),this.setOptions(i),this.bindMethods(),(0,v._)(this,r,y).call(this)}});function y(){var t,i;let s=null!==(i=null===(t=(0,h._)(this,n))||void 0===t?void 0:t.state)&&void 0!==i?i:(0,p.R)();(0,d._)(this,a,{...s,isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset})}function g(t){f.V.batch(()=>{if((0,h._)(this,o)&&this.hasListeners()){var i,s,e,n,r,l,u,c;let d=(0,h._)(this,a).variables,v=(0,h._)(this,a).context;(null==t?void 0:t.type)==="success"?(null===(i=(s=(0,h._)(this,o)).onSuccess)||void 0===i||i.call(s,t.data,d,v),null===(e=(n=(0,h._)(this,o)).onSettled)||void 0===e||e.call(n,t.data,null,d,v)):(null==t?void 0:t.type)==="error"&&(null===(r=(l=(0,h._)(this,o)).onError)||void 0===r||r.call(l,t.error,d,v),null===(u=(c=(0,h._)(this,o)).onSettled)||void 0===u||u.call(c,void 0,t.error,d,v))}this.listeners.forEach(t=>{t((0,h._)(this,a))})})}var x=s(47082),C=s(20826);function M(t,i){let s=(0,x.NL)(i),[e]=u.useState(()=>new w(s,t));u.useEffect(()=>{e.setOptions(t)},[e,t]);let a=u.useSyncExternalStore(u.useCallback(t=>e.subscribe(f.V.batchCalls(t)),[e]),()=>e.getCurrentResult(),()=>e.getCurrentResult()),n=u.useCallback((t,i)=>{e.mutate(t,i).catch(C.Z)},[e]);if(a.error&&(0,C.L)(e.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:n,mutateAsync:a.mutate}}}}]);